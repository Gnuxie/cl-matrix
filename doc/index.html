<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Cl Matrix</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:6em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}</style> </head> <body> <article class="project"> <header>  <h1>cl matrix</h1>  <span class="version">0.0</span>  <nav class="languages">  <a href="index.html">English</a>  </nav>  <p class="description">A WIP Matrix library for Common Lisp.</p>  <nav class="pages">  <a href="index.html">cl matrix</a>  </nav> </header> <section id="documentation"><h1>CL-MATRIX</h1> <p>cl-matrix is a WIP client library for <a href="https://matrix.org">matrix</a></p> <p>Reference index generated by staple can be viewed <a href="https://gnuxie.gitlab.io/cl-matrix">here</a></p> <h2>Hello World!</h2> <p>Here is a hello world example</p> <pre><code>
(<a href="http://l1sp.org/cl/defvar" class="xref">defvar</a> *user-one* (<a href="#FUNCTION%20CL-MATRIX%3AMAKE-ACCOUNT" class="xref">cl-matrix:make-account</a> &quot;@my-username:my-homeserver&quot; &quot;******&quot;))

(<a href="#MACRO-FUNCTION%20CL-MATRIX%3AWITH-ACCOUNT" class="xref">cl-matrix:with-account</a> (*user-one*)
  (<a href="#FUNCTION%20CL-MATRIX%3AMSG-SEND" class="xref">cl-matrix:msg-send</a> &quot;hello world!&quot; &quot;!someRoomId:matrix.org&quot;))</code></pre> <h2>What is supported</h2> <p>At the moment most apis are usable and there are classes for accounts and rooms</p> <p>There is now also event listening and I will be writing more documentation on this shortly.</p> <h2>Why did you make this?</h2> <p>I made this so I could write my own bots and tools for matrix, I am planning on sharing them as soon as this library has a release since most of them rely on it one change in this repo is going to break the others.</p> <p>I have tried to make this as extensible as possible.</p> <h2>What can I expect this to become</h2> <p>There is a chance that the code base could be abandoned still as it still hasn't had a release.
That being said, it's a fairly simple code base and there will be things here that are useful for similar libraries.</p> <p>It is more likely though that I change some of the fundamental apis of this library rather than abandon it, for example by changing the way the functions interact with ACCOUNT objects (which atm they use a special variable *ACCOUNT* to do so).</p> </section>   <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">0.0</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external">jsown</a></li><li><a class="external">drakma</a></li><li><a class="external" href="https://Shinmera.github.io/documentation-utils/">documentation-utils</a></li></ul> </div>   <div class="row"> <label for="author">Author:</label> <a id="author" href="mailto:Gnuxie@protonmail.com&gt; Jaidyn Lev &lt;jadedctrl@teknik.io">Gnuxie</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/LICENSE.txt#LNIL">AGPL v3+</a> </div>   </section>   <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE CL-MATRIX"> <header> <h3> <a href="#PACKAGE%20CL-MATRIX">CL-MATRIX</a> </h3> <ul class="nicknames"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE CL-MATRIX:*ACCESS-TOKEN*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20CL-MATRIX%3A%2AACCESS-TOKEN%2A">*ACCESS-TOKEN*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L45">Source</a>  </header> <div class="docstring"><pre>Special variable representing the access token to use as the default keyword argument to all requests defined with DEFINE-MATRIX-REQUEST

This variable gets used the same way by all endpoints defined with DEFINE-MATRIX-ENDPOINT.
The access token is injected into the url as a query parameter.

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-ENDPOINT" class="xref">DEFINE-MATRIX-ENDPOINT</a>
See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-REQUEST" class="xref">DEFINE-MATRIX-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE CL-MATRIX:*ACCOUNT*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20CL-MATRIX%3A%2AACCOUNT%2A">*ACCOUNT*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L7">Source</a>  </header> <div class="docstring"><pre>Special variable that is used to manage the active account. Effects operations on the clients room representation

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3AWITH-ACCOUNT" class="xref">WITH-ACCOUNT</a>
See <a href="#CLASS%20CL-MATRIX%3AACCOUNT" class="xref">ACCOUNT</a>
See <a href="#GENERIC-FUNCTION%20CL-MATRIX%3ACHANGE-ACCOUNT" class="xref">CHANGE-ACCOUNT</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE CL-MATRIX:*HOMESERVER*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20CL-MATRIX%3A%2AHOMESERVER%2A">*HOMESERVER*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L44">Source</a>  </header> <div class="docstring"><pre>Special variable representing the homeserver to use by all requests defined with DEFINE-MATRIX-REQUEST.

As of writing the homeserver is just the domain to use e.g. `matrix.org` and there is no way to change the homeserver used by a request other than via this variable.

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-REQUEST" class="xref">DEFINE-MATRIX-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS CL-MATRIX:ACCOUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20CL-MATRIX%3AACCOUNT">ACCOUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L5">Source</a>  </header> <div class="docstring"><pre>Class representing a matrix account

Contains all the state that can be associated with an account including the rooms the user has joined and in turn their state.

Contains ACCESS-TOKEN slot containing the access-token associated with a currently &quot;logged in&quot; account.
Contains USERNAME slot holding the full user id for this account.
Contains PASSWORD slot for this accounts password.
Contains HOMESERVER slot for this accounts homeserver address e.g. `matrix.org`
Contains ROOMS slot which is a hash-table with keys for the room-id and values for ROOM instances.
Contains ROOM-LIST slot which is a list of all the rooms in the hashtable for MEMBER tests. Not sure how necessary this is tbh.

See <a href="#FUNCTION%20CL-MATRIX%3AMAKE-ACCOUNT" class="xref">MAKE-ACCOUNT</a>
See <a href="#FUNCTION%20CL-MATRIX%3AGET-HOSTNAME" class="xref">GET-HOSTNAME</a>
See <a href="#FUNCTION%20CL-MATRIX.LISTENING%3AROOM" class="xref">ROOM</a></pre></div> </article> </li>  <li> <article class="definition class" id="CLASS CL-MATRIX:ROOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20CL-MATRIX%3AROOM">ROOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/room.lisp#L5">Source</a>  </header> <div class="docstring"><pre>Class that shadows cl:room. Represents a matrix room

Contains an ID slot representing the id for the room in full.
Contains an EVENT slot representing the events the client has locally for the room.
Contains a STATE slot representing the most recent room state the client has locally.
Contains a BACK slot which is supposed to hold a pagination token for events backwards.
Contains a FRONT slot which is supposed to hold a pagination token for events forwards.</pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION CL-MATRIX:API-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20CL-MATRIX%3AAPI-ERROR">API-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/conditions.lisp#L7">Source</a>  </header> <div class="docstring"><pre>A base condition for all conditions raised by the matrix server in it's response content e.g. when the server returns an error object, this is different to when a HTTP error happens.

Contains a slot DESCRIPTION with a reader ERROR-DESCRIPTION which should contain the value of errcode and error from the error json object.
Will report the content of the ERROR-DESCRIPTION to a stream.

if the type of api-error has not been defined then this condition should be raised.

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-CALLBACK" class="xref">DEFINE-CALLBACK</a>
See <a href="#FUNCTION%20CL-MATRIX%3AGENERATE-GENERIC-CALLBACK" class="xref">GENERATE-GENERIC-CALLBACK</a>
See <a href="https://matrix.org/docs/spec/client_server/latest.html#api-standards" class="exref">https://matrix.org/docs/spec/client_server/latest.html#api-standards</a></pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION CL-MATRIX:CL-MATRIX-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20CL-MATRIX%3ACL-MATRIX-ERROR">CL-MATRIX-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/conditions.lisp#L5">Source</a>  </header> <div class="docstring"><pre>Base Condition for all conditions defined in this package.</pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION CL-MATRIX:FORBIDDEN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20CL-MATRIX%3AFORBIDDEN">FORBIDDEN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/conditions.lisp#L13">Source</a>  </header> <div class="docstring"><pre>A condition for the matrix api error of FORBIDDEN

See <a href="https://matrix.org/docs/spec/client_server/latest.html#api-standards" class="exref">https://matrix.org/docs/spec/client_server/latest.html#api-standards</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ACCOUNT-LOG-IN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AACCOUNT-LOG-IN">ACCOUNT-LOG-IN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME</li>    <li class="argument">PASSWORD</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L9">Source</a>  </header> <div class="docstring"><pre>'Log in' by fetching the access-token of an account.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ACCOUNT-LOG-OUT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AACCOUNT-LOG-OUT">ACCOUNT-LOG-OUT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L18">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ACCOUNT-SYNC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AACCOUNT-SYNC">ACCOUNT-SYNC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SINCE</li>    <li class="argument">FILTER</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L105">Source</a>  </header> <div class="docstring"><pre>see the spec, read 8.2 syncing to understand how this works.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ADD-ROOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AADD-ROOM">ADD-ROOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">ROOM</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L81">Source</a>  </header> <div class="docstring"><pre>Function that will add a ROOM instance to the ROOMS slot in *ACCOUNT* with the given room-id as the key.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:CHANGE-POWER-LEVEL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3ACHANGE-POWER-LEVEL">CHANGE-POWER-LEVEL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM</li>    <li class="argument">USER-ID</li>    <li class="argument">POWER</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L176">Source</a>  </header> <div class="docstring"><pre>change the power level of a user</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:CLIENT-NEW-ROOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3ACLIENT-NEW-ROOM">CLIENT-NEW-ROOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/client-listeners.lisp#L5">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:CLIENT-ROOM-FRONT-UPDATER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3ACLIENT-ROOM-FRONT-UPDATER">CLIENT-ROOM-FRONT-UPDATER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/client-listeners.lisp#L15">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:GET-HOSTNAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AGET-HOSTNAME">GET-HOSTNAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L45">Source</a>  </header> <div class="docstring"><pre>Function

Simple function that will return a hostname from a USERNAME

See <a href="#FUNCTION%20CL-MATRIX%3AMAKE-ACCOUNT" class="xref">MAKE-ACCOUNT</a>
See <a href="#CLASS%20CL-MATRIX%3AACCOUNT" class="xref">ACCOUNT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:GET-ROOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AGET-ROOM">GET-ROOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L78">Source</a>  </header> <div class="docstring"><pre>Reader that will return a ROOM from the given room-id from the ROOMS slot in the current *ACCOUNT*</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:INVITATIONS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AINVITATIONS">INVITATIONS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-NAME</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">SINCE</li>    <li class="argument">FROM</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L76">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:MAKE-ACCOUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AMAKE-ACCOUNT">MAKE-ACCOUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USERNAME</li>    <li class="argument">PASSWORD</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">HOMESERVER</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L47">Source</a>  </header> <div class="docstring"><pre>Constructor for ACCOUNT

Will automatically calculate the hostname for the ACCOUNT using GET-HOSTNAME on the provided USERNAME which is why it's optional.

See <a href="#FUNCTION%20CL-MATRIX%3AGET-HOSTNAME" class="xref">GET-HOSTNAME</a>
See <a href="#CLASS%20CL-MATRIX%3AACCOUNT" class="xref">ACCOUNT</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:MSG-SEND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AMSG-SEND">MSG-SEND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MSG</li>    <li class="argument">ROOM-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">TXID</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L51">Source</a>  </header> <div class="docstring"><pre>Send a text message to a specific room.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-BAN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-BAN">ROOM-BAN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>    <li class="argument">REASON</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ROOM-IDS</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L213">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-CREATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-CREATE">ROOM-CREATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">ROOM-ALIAS</li>    <li class="argument">VISIBILITY</li>    <li class="argument">NAME</li>    <li class="argument">TOPIC</li>    <li class="argument">INVITE</li>    <li class="argument">PRESET</li>    <li class="argument">IS-DIRECT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L23">Source</a>  </header> <div class="docstring"><pre>Create a Matrix room. Please refer to the specification to see what should be given in the keyword args.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-FORGET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-FORGET">ROOM-FORGET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L187">Source</a>  </header> <div class="docstring"><pre>forget a room</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-JOIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-JOIN">ROOM-JOIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L99">Source</a>  </header> <div class="docstring"><pre>Join a Matrix room by id, not the same as alias, see the spec.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-JOINED-MEMBERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-JOINED-MEMBERS">ROOM-JOINED-MEMBERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L127">Source</a>  </header> <div class="docstring"><pre>Fetch a list of joined members for a room</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-KICK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-KICK">ROOM-KICK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>    <li class="argument">REASON</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ROOM-IDS</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L199">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-LEAVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-LEAVE">ROOM-LEAVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L193">Source</a>  </header> <div class="docstring"><pre>leave a room</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-MESSAGES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-MESSAGES">ROOM-MESSAGES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">DIR</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L253">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-POWER-LEVELS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-POWER-LEVELS">ROOM-POWER-LEVELS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L166">Source</a>  </header> <div class="docstring"><pre>Get the power levels for the room. Maybe this should be deprecated for room-state</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-REDACT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-REDACT">ROOM-REDACT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-ID</li>    <li class="argument">REASON</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">TXID</li>    <li class="argument">RANDOM-TIMESTAMP</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L60">Source</a>  </header> <div class="docstring"><pre>redact an event in a room. txid is a `(random-timestamp)` by default.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOM-STATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOM-STATE">ROOM-STATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument">STATE-KEY</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L152">Source</a>  </header> <div class="docstring"><pre>Get the state events for the current state of a room.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOMS-JOINED-MEMBERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOMS-JOINED-MEMBERS">ROOMS-JOINED-MEMBERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOMS</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L133">Source</a>  </header> <div class="docstring"><pre>Fetch the members information for all the supplied rooms</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOMS-JOINED-MEMBERS-IDS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOMS-JOINED-MEMBERS-IDS">ROOMS-JOINED-MEMBERS-IDS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOMS</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L139">Source</a>  </header> <div class="docstring"><pre>Fetch the joined members as user-ids</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOMS-POWER-LEVELS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOMS-POWER-LEVELS">ROOMS-POWER-LEVELS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOMS</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L170">Source</a>  </header> <div class="docstring"><pre>Get the power levels for all the rooms. Maybe this should be deprecated for rooms-state</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:ROOMS-STATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AROOMS-STATE">ROOMS-STATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOMS</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument">STATE-KEY</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L162">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:STARTUP-SYNC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3ASTARTUP-SYNC">STARTUP-SYNC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/room.lisp#L76">Source</a>  </header> <div class="docstring"><pre>Initialises the rooms the user has joined by using the sync endpoint</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:UPLOAD-FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AUPLOAD-FILTER">UPLOAD-FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>    <li class="argument">FILTER</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L93">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:USER-INVITE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AUSER-INVITE">USER-INVITE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>    <li class="argument">ROOM-ID</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L67">Source</a>  </header> <div class="docstring"><pre>Invite a user to a chat-room.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX:USER-JOINED-ROOMS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX%3AUSER-JOINED-ROOMS">USER-JOINED-ROOMS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/main.lisp#L121">Source</a>  </header> <div class="docstring"><pre>Fetch rooms joined by the user. This is not filtered from sync, it's an actual api call.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:ACCESS-TOKEN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AACCESS-TOKEN">ACCESS-TOKEN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF ACCESS-TOKEN)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20ACCESS-TOKEN%29">(SETF ACCESS-TOKEN)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:BACK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3ABACK">BACK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF BACK)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20BACK%29">(SETF BACK)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:CHANGE-ACCOUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3ACHANGE-ACCOUNT">CHANGE-ACCOUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">THIS-ACCOUNT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L50">Source</a>  </header> <div class="docstring"><pre>Generic function that is used to change the &quot;active&quot; account of the client.
To achieve this it sets the global variables *ACCOUNT* *ACCESS-TOKEN* *HOMESERVER* to the respective slots held in the account instance.

This function has a before override that will manage the homeserver and use the account to login if the ACCESS-TOKEN slot is empty.

See <a href="#FUNCTION%20CL-MATRIX%3AACCOUNT-LOG-IN" class="xref">ACCOUNT-LOG-IN</a>
See <a href="#CLASS%20CL-MATRIX%3AACCOUNT" class="xref">ACCOUNT</a>
See <a href="#VARIABLE%20CL-MATRIX%3A%2AACCOUNT%2A" class="xref">*ACCOUNT*</a></pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:EVENT-TYPE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AEVENT-TYPE">EVENT-TYPE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">EVENT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:EVENTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AEVENTS">EVENTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF EVENTS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20EVENTS%29">(SETF EVENTS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AFILTER">FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PREDICATE</li>    <li class="argument">SEQUENCE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">KEY</li>    <li class="argument">START</li>    <li class="argument">END</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/room.lisp#L92">Source</a>  </header> <div class="docstring"><pre>filter a cl-matrix sequence</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:FRONT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AFRONT">FRONT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF FRONT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20FRONT%29">(SETF FRONT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:HOMESERVER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AHOMESERVER">HOMESERVER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF HOMESERVER)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20HOMESERVER%29">(SETF HOMESERVER)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:ID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AID">ID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF ID)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20ID%29">(SETF ID)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:LIMIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3ALIMIT">LIMIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF LIMIT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20LIMIT%29">(SETF LIMIT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:MESSAGES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AMESSAGES">MESSAGES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">THIS-ROOM</li>    <li class="argument">DIRECTION</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/room.lisp#L39">Source</a>  </header> <div class="docstring"><pre>fetch more messages for the room in direction</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:PASSWORD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3APASSWORD">PASSWORD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF PASSWORD)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20PASSWORD%29">(SETF PASSWORD)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:USERNAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3AUSERNAME">USERNAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX:(SETF USERNAME)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX%3A%28SETF%20USERNAME%29">(SETF USERNAME)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION CL-MATRIX:WITH-ACCOUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20CL-MATRIX%3AWITH-ACCOUNT">WITH-ACCOUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <ul class="arguments"> <li class="argument">THIS-ACCOUNT</li>  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>  <li class="argument">LOGOUT-P</li> </ul>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/account.lisp#L62">Source</a>  </header> <div class="docstring"><pre>Macro that will wrap the body such that the given account will be used.
A decision was made early on in the library to use this macro for the client and the requests. It might have been better to use gfs instead.

These forms are nestable.</pre></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE CL-MATRIX.LISTENING"> <header> <h3> <a href="#PACKAGE%20CL-MATRIX.LISTENING">CL-MATRIX.LISTENING</a> </h3> <ul class="nicknames"> <li>CL-M.L</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition class" id="CLASS CL-MATRIX.LISTENING:DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20CL-MATRIX.LISTENING%3ADISPATCHER">DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/listening.lisp#L50">Source</a>  </header> <div class="docstring"><pre>a listener that dispatches more listeners, it's child listeners are specified in the slot listeners.
an example would be having the callback for the dispatcher set to only dispatch listeners when an event type is string= &quot;m.room.message&quot;
as opposed to having each listener performing this check themselves. Whoever creates the dispatcher takes the responsibility for deciding how it's listeners are to be called ie the expected argument list etc.</pre></div> </article> </li>  <li> <article class="definition class" id="CLASS CL-MATRIX.LISTENING:LISTENER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20CL-MATRIX.LISTENING%3ALISTENER">LISTENER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/listening.lisp#L25">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.LISTENING:MAKE-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.LISTENING%3AMAKE-DISPATCHER">MAKE-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CALLBACK</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARENT</li>    <li class="argument">LISTENERS</li>    <li class="argument">DESCRIPTION</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/listening.lisp#L65">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.LISTENING:MAKE-LISTENER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.LISTENING%3AMAKE-LISTENER">MAKE-LISTENER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CALLBACK</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>    <li class="argument">DESCRIPTION</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:ADD-LISTENER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3AADD-LISTENER">ADD-LISTENER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">THIS</li>    <li class="argument">A-LISTENER</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:CALLBACK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3ACALLBACK">CALLBACK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:(SETF CALLBACK)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3A%28SETF%20CALLBACK%29">(SETF CALLBACK)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:DESCRIPTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3ADESCRIPTION">DESCRIPTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:(SETF DESCRIPTION)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3A%28SETF%20DESCRIPTION%29">(SETF DESCRIPTION)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:INVOKE-CALLBACK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3AINVOKE-CALLBACK">INVOKE-CALLBACK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">INSTANCE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGS</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:LISTENERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3ALISTENERS">LISTENERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:(SETF LISTENERS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3A%28SETF%20LISTENERS%29">(SETF LISTENERS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:PARENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3APARENT">PARENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.LISTENING:(SETF PARENT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.LISTENING%3A%28SETF%20PARENT%29">(SETF PARENT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE CL-MATRIX.BASE-DISPATCHER"> <header> <h3> <a href="#PACKAGE%20CL-MATRIX.BASE-DISPATCHER">CL-MATRIX.BASE-DISPATCHER</a> </h3> <ul class="nicknames"> <li>BASE-DISPATCHER</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition class" id="CLASS CL-MATRIX.BASE-DISPATCHER:BASE-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20CL-MATRIX.BASE-DISPATCHER%3ABASE-DISPATCHER">BASE-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L26">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-EPHEMERAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-EPHEMERAL">BASE-EPHEMERAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-EVENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-EVENT">BASE-EVENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-INVITE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-INVITE">BASE-INVITE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-LEFT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-LEFT">BASE-LEFT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-PRESENCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-PRESENCE">BASE-PRESENCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-ROOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-ROOM">BASE-ROOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PARENT</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:BASE-SYNC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ABASE-SYNC">BASE-SYNC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L47">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION CL-MATRIX.BASE-DISPATCHER:MAKE-BASE-DISPATCHER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3AMAKE-BASE-DISPATCHER">MAKE-BASE-DISPATCHER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/basic-listening.lisp#L119">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:EPHEMERAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3AEPHEMERAL">EPHEMERAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:(SETF EPHEMERAL)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3A%28SETF%20EPHEMERAL%29">(SETF EPHEMERAL)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:EVENTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3AEVENTS">EVENTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:(SETF EVENTS)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3A%28SETF%20EVENTS%29">(SETF EVENTS)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:INVITE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3AINVITE">INVITE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:(SETF INVITE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3A%28SETF%20INVITE%29">(SETF INVITE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:LEFT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3ALEFT">LEFT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:(SETF LEFT)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3A%28SETF%20LEFT%29">(SETF LEFT)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:PRESENCE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3APRESENCE">PRESENCE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION CL-MATRIX.BASE-DISPATCHER:(SETF PRESENCE)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20CL-MATRIX.BASE-DISPATCHER%3A%28SETF%20PRESENCE%29">(SETF PRESENCE)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li> </ul> </article> </li>  <li> <article class="definition package" id="PACKAGE MATRIX-REQUESTS"> <header> <h3> <a href="#PACKAGE%20MATRIX-REQUESTS">MATRIX-REQUESTS</a> </h3> <ul class="nicknames"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE MATRIX-REQUESTS:*ACCESS-TOKEN*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20MATRIX-REQUESTS%3A%2AACCESS-TOKEN%2A">*ACCESS-TOKEN*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L45">Source</a>  </header> <div class="docstring"><pre>Special variable representing the access token to use as the default keyword argument to all requests defined with DEFINE-MATRIX-REQUEST

This variable gets used the same way by all endpoints defined with DEFINE-MATRIX-ENDPOINT.
The access token is injected into the url as a query parameter.

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-ENDPOINT" class="xref">DEFINE-MATRIX-ENDPOINT</a>
See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-REQUEST" class="xref">DEFINE-MATRIX-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition special-variable" id="VARIABLE MATRIX-REQUESTS:*HOMESERVER*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20MATRIX-REQUESTS%3A%2AHOMESERVER%2A">*HOMESERVER*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L44">Source</a>  </header> <div class="docstring"><pre>Special variable representing the homeserver to use by all requests defined with DEFINE-MATRIX-REQUEST.

As of writing the homeserver is just the domain to use e.g. `matrix.org` and there is no way to change the homeserver used by a request other than via this variable.

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-REQUEST" class="xref">DEFINE-MATRIX-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-JOINED-ROOMS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-JOINED-ROOMS">GET-JOINED-ROOMS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L187">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-LOGIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-LOGIN">GET-LOGIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L132">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-EVENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-EVENT">GET-ROOM-EVENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L150">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-JOINED-MEMBERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-JOINED-MEMBERS">GET-ROOM-JOINED-MEMBERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L165">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-MEMBERS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-MEMBERS">GET-ROOM-MEMBERS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L162">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-MESSAGES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-MESSAGES">GET-ROOM-MESSAGES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L168">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-STATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-STATE">GET-ROOM-STATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L159">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-STATE-EVENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-STATE-EVENT">GET-ROOM-STATE-EVENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L156">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-ROOM-STATE-KEY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-ROOM-STATE-KEY">GET-ROOM-STATE-KEY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument">STATE-KEY</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L153">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-SYNC"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-SYNC">GET-SYNC</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L147">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:GET-USER-FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AGET-USER-FILTER">GET-USER-FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>    <li class="argument">FILTER-ID</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L144">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:MATRIX-GET-REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AMATRIX-GET-REQUEST">MATRIX-GET-REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URL</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L72">Source</a>  </header> <div class="docstring"><pre>Make a request to a Matrix homeserver, for API calls.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:MATRIX-POST-REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3AMATRIX-POST-REQUEST">MATRIX-POST-REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">URL</li>    <li class="argument">THE-JSON</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">ACCESS-TOKEN</li>    <li class="argument">CONTENT-TYPE</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L70">Source</a>  </header> <div class="docstring"><pre>Make a request to a Matrix homeserver, for API calls.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-CREATE-ROOM"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-CREATE-ROOM">POST-CREATE-ROOM</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L183">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-JOIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-JOIN">POST-JOIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID-OR-ALIAS</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L196">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-LOGIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-LOGIN">POST-LOGIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L132">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-LOGOUT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-LOGOUT">POST-LOGOUT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L135">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-LOGOUT-ALL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-LOGOUT-ALL">POST-LOGOUT-ALL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L138">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-BAN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-BAN">POST-ROOM-BAN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L208">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-FORGET"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-FORGET">POST-ROOM-FORGET</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L202">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-INVITE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-INVITE">POST-ROOM-INVITE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L190">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-JOIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-JOIN">POST-ROOM-JOIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L193">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-KICK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-KICK">POST-ROOM-KICK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L205">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-LEAVE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-LEAVE">POST-ROOM-LEAVE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L199">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-ROOM-UNBAN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-ROOM-UNBAN">POST-ROOM-UNBAN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L211">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:POST-USER-FILTER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APOST-USER-FILTER">POST-USER-FILTER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">USER-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L141">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:PUT-ROOM-REDACT-EVENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APUT-ROOM-REDACT-EVENT">PUT-ROOM-REDACT-EVENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-ID</li>    <li class="argument">TXN-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L180">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:PUT-ROOM-SEND-EVENT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APUT-ROOM-SEND-EVENT">PUT-ROOM-SEND-EVENT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument">TXN-ID</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L177">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:PUT-ROOM-STATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APUT-ROOM-STATE">PUT-ROOM-STATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L174">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MATRIX-REQUESTS:PUT-ROOM-STATE-KEY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MATRIX-REQUESTS%3APUT-ROOM-STATE-KEY">PUT-ROOM-STATE-KEY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ROOM-ID</li>    <li class="argument">EVENT-TYPE</li>    <li class="argument">STATE-KEY</li>    <li class="argument">CONTENT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">PARAMETERS</li>    <li class="argument">CALLBACK</li>    <li class="argument">ACCESS-TOKEN</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L171">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MATRIX-REQUESTS:DEFINE-MATRIX-ENDPOINT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MATRIX-REQUESTS%3ADEFINE-MATRIX-ENDPOINT">DEFINE-MATRIX-ENDPOINT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">ACCEPTED-METHODS</li>    <li class="argument">ENDPOINT</li>    <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">DOCUMENTATION</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L74">Source</a>  </header> <div class="docstring"><pre>Macro that will create a wrapper around a function defined with DEFINE-MATRIX-REQUEST specific to an api endpoint.

It takes a name to use for the function and the http methods that endpoint supports
Then it takes a list that describe the url, strings are constants and symbols are variables.
e.g. the api `PUT /_matrix/client/r0/rooms/{roomId}/send/{eventType}/{txnId}` can be expressed as

```
(define-matrix-endpoint room-send (:put)
  (&quot;rooms&quot; room-id &quot;send&quot; event-type txnid))
```
which should create a function with the signature
`(PUT-ROOM-SEND ROOM-ID EVENT-TYPE TXNID CONTENT &amp;KEY PARAMETERS CALLBACK ACCESS-TOKEN)`

The CALLBACK keyword is supposed to be used as a bodge, these apis are blocking. The reason for the bodge is so that the http response code could be read from the drakma:http-request in future but I'm not sure if this is even necessary, either way this needs sorting out. Currently the CALLBACK parameter is used throughout cl-matrix/src/main.lisp to detect api-erros although this could be done more easily without.

See <a href="#MACRO-FUNCTION%20CL-MATRIX%3ADEFINE-MATRIX-REQUEST" class="xref">DEFINE-MATRIX-REQUEST</a></pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MATRIX-REQUESTS:DEFINE-MATRIX-REQUEST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MATRIX-REQUESTS%3ADEFINE-MATRIX-REQUEST">DEFINE-MATRIX-REQUEST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">TYPE</li>  </ul>  <a class="source-link" href="http://gitlab.com/Gnuxie/cl-matrix/blob/master/src/requests.lisp#L47">Source</a>  </header> <div class="docstring"><pre>Macro that will create a function wrapping a drakma:http-request with the name provided and of the type specified
e.g. `(define-matrix-request matrix-post-request :post)`</pre></div> </article> </li> </ul> </article> </li> </ul> </section> </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 